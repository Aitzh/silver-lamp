# üßπ Remove Unreliable Ratings - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

**Remove Unreliable Ratings** - —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Coffee Books AI.

### –ü—Ä–æ–±–ª–µ–º–∞:

–†–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (Google Books, Spotify, TMDB) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —Ä–µ–π—Ç–∏–Ω–≥–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö –∏ —Å —Ä–∞–∑–Ω–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é:

| –¢–∏–ø | API | –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|-----|-----|----------|---------|
| üìñ **–ö–Ω–∏–≥–∏** | Google Books | –®–∫–∞–ª–∞ 0-5, –º–∞–ª–æ –æ—Ç–∑—ã–≤–æ–≤, –Ω–µ–Ω–∞–¥–µ–∂–Ω–æ | ‚ùå **–£–î–ê–õ–ò–¢–¨** |
| üéµ **–ú—É–∑—ã–∫–∞** | Spotify | Popularity (0-100) ‚â† –∫–∞—á–µ—Å—Ç–≤–æ | ‚ùå **–£–î–ê–õ–ò–¢–¨** |
| üé¨ **–§–∏–ª—å–º—ã** | TMDB | –®–∫–∞–ª–∞ 0-10, –º–∏–ª–ª–∏–æ–Ω—ã –æ—Ç–∑—ã–≤–æ–≤ | ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** |

---

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:

1. ‚úÖ **–°–æ–∑–¥–∞–µ—Ç backup** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
2. ‚úÖ **–°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** –¥–æ –∏ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏
3. ‚úÖ **–£–¥–∞–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∏** —É –∫–Ω–∏–≥ (–Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–µ)
4. ‚úÖ **–£–¥–∞–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∏** —É –º—É–∑—ã–∫–∏ (popularity ‚â† –∫–∞—á–µ—Å—Ç–≤–æ)
5. ‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∏** —Ñ–∏–ª—å–º–æ–≤ (TMDB –Ω–∞–¥–µ–∂–µ–Ω)
6. ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–¥–∫—É** –∏–∑–º–µ–Ω–µ–Ω–∏–π
7. ‚úÖ **–î–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ –¥–∞–ª—å–Ω–µ–π—à–∏–º –¥–µ–π—Å—Ç–≤–∏—è–º

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1Ô∏è‚É£ –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
mkdir -p scripts/migrations

# –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
mv remove_unreliable_ratings.py scripts/migrations/

# –°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x scripts/migrations/remove_unreliable_ratings.py
```

### 2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
python scripts/migrations/remove_unreliable_ratings.py
```

---

## üìä –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ backup

```
======================================================================
              üßπ REMOVE UNRELIABLE RATINGS
======================================================================

1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏...
‚úÖ Backup —Å–æ–∑–¥–∞–Ω: backups/content_backup_20250121_153045.db
```

### –®–∞–≥ 2: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –î–û –æ—á–∏—Å—Ç–∫–∏

```
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –î–û –û–ß–ò–°–¢–ö–ò
======================================================================

üìñ BOOK:
  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 2,456
  –° —Ä–µ–π—Ç–∏–Ω–≥–æ–º: 1,823 (74.2%)
  –ë–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞: 633
  –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ‚≠ê 0.85
  –î–∏–∞–ø–∞–∑–æ–Ω: 0.00 - 5.00

üé¨ MOVIE:
  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 3,516
  –° —Ä–µ–π—Ç–∏–Ω–≥–æ–º: 3,516 (100.0%)
  –ë–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞: 0
  –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ‚≠ê 7.02
  –î–∏–∞–ø–∞–∑–æ–Ω: 3.20 - 9.80

üéµ MUSIC:
  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 5,243
  –° —Ä–µ–π—Ç–∏–Ω–≥–æ–º: 5,243 (100.0%)
  –ë–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞: 0
  –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ‚≠ê 5.32
  –î–∏–∞–ø–∞–∑–æ–Ω: 0.00 - 10.00
```

### –®–∞–≥ 3: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

```
‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï! –°–µ–π—á–∞—Å –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã —Ä–µ–π—Ç–∏–Ω–≥–∏:
   - –í—Å–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –ö–ù–ò–ì (–Ω–µ–Ω–∞–¥–µ–∂–Ω—ã)
   - –í—Å–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –ú–£–ó–´–ö–ò (popularity ‚â† –∫–∞—á–µ—Å—Ç–≤–æ)
   - –†–µ–π—Ç–∏–Ω–≥–∏ –§–ò–õ–¨–ú–û–í –æ—Å—Ç–∞–Ω—É—Ç—Å—è –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô

üíæ Backup —Å–æ—Ö—Ä–∞–Ω–µ–Ω: backups/content_backup_20250121_153045.db

‚ùì –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (yes/no): yes
```

### –®–∞–≥ 4: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏

```
üßπ –ù–ê–ß–ò–ù–ê–Æ –û–ß–ò–°–¢–ö–£ –†–ï–ô–¢–ò–ù–ì–û–í
======================================================================

üìñ –£–¥–∞–ª—è—é —Ä–µ–π—Ç–∏–Ω–≥–∏ —É –∫–Ω–∏–≥...
   ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ 2,456 –∫–Ω–∏–≥

üéµ –£–¥–∞–ª—è—é —Ä–µ–π—Ç–∏–Ω–≥–∏ —É –º—É–∑—ã–∫–∏...
   ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ 5,243 —Ç—Ä–µ–∫–æ–≤

üé¨ –§–∏–ª—å–º—ã - —Ä–µ–π—Ç–∏–Ω–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (TMDB –Ω–∞–¥–µ–∂–µ–Ω)

======================================================================
‚úÖ –û–ß–ò–°–¢–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!
```

### –®–∞–≥ 5: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ü–û–°–õ–ï –æ—á–∏—Å—Ç–∫–∏

```
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–û–°–õ–ï –û–ß–ò–°–¢–ö–ò
======================================================================

üìñ BOOK:
  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 2,456
  –° —Ä–µ–π—Ç–∏–Ω–≥–æ–º: 0 (0.0%)
  –ë–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞: 2,456

üé¨ MOVIE:
  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 3,516
  –° —Ä–µ–π—Ç–∏–Ω–≥–æ–º: 3,516 (100.0%)
  –ë–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞: 0
  –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ‚≠ê 7.02
  –î–∏–∞–ø–∞–∑–æ–Ω: 3.20 - 9.80

üéµ MUSIC:
  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 5,243
  –° —Ä–µ–π—Ç–∏–Ω–≥–æ–º: 0 (0.0%)
  –ë–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞: 5,243
```

### –®–∞–≥ 6: –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞

```
üìã –ò–¢–û–ì–û–í–ê–Ø –°–í–û–î–ö–ê –ò–ó–ú–ï–ù–ï–ù–ò–ô
======================================================================

üìñ BOOK:
   ‚úÖ –£–¥–∞–ª–µ–Ω–æ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤: 1,823
   üìä –î–æ: 1,823 ‚Üí –ü–æ—Å–ª–µ: 0

üé¨ MOVIE:
   ‚úÖ –†–µ–π—Ç–∏–Ω–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: 3,516
   ‚≠ê –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: 7.02

üéµ MUSIC:
   ‚úÖ –£–¥–∞–ª–µ–Ω–æ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤: 5,243
   üìä –î–æ: 5,243 ‚Üí –ü–æ—Å–ª–µ: 0
```

### –®–∞–≥ 7: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

```
üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò
======================================================================

1Ô∏è‚É£ –î–ª—è –ö–ù–ò–ì –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
   - –ñ–∞–Ω—Ä (genre)
   - –≠–ø–æ—Ö–∞ (epoch: 'classics', 'modern')
   - AI-–æ–ø–∏—Å–∞–Ω–∏–µ (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ)
   - –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –∞–≤—Ç–æ—Ä–∞

2Ô∏è‚É£ –î–ª—è –ú–£–ó–´–ö–ò –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
   - –ñ–∞–Ω—Ä (genre)
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (mood: 'energetic', 'chill', 'romantic')
   - –≠–ø–æ—Ö–∞ (epoch: '80s', '90s', '2020s')
   - AI-–æ–ø–∏—Å–∞–Ω–∏–µ (—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ)

3Ô∏è‚É£ –î–ª—è –§–ò–õ–¨–ú–û–í:
   ‚úÖ –†–µ–π—Ç–∏–Ω–≥–∏ TMDB –Ω–∞–¥–µ–∂–Ω—ã - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö!
   ‚úÖ –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ rating >= 7.0 –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤

4Ô∏è‚É£ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
   üìù –û–±–Ω–æ–≤–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (—É–±–µ—Ä–∏—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –¥–ª—è –∫–Ω–∏–≥/–º—É–∑—ã–∫–∏)
   ü§ñ –ó–∞–ø—É—Å—Ç–∏—Ç–µ ai_describer.py –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω–∏–π
   üîß –û–±–Ω–æ–≤–∏—Ç–µ recommend.js (—É–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ rating –¥–ª—è books/music)

======================================================================
‚úÖ –í–°–ï –û–ü–ï–†–ê–¶–ò–ò –ó–ê–í–ï–†–®–ï–ù–´ –£–°–ü–ï–®–ù–û!
======================================================================

üíæ Backup: backups/content_backup_20250121_153045.db
üìä –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç: python scripts/tools/db_inspector.py
```

---

## üîß –ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤ –ë–î

### –î–æ –æ—á–∏—Å—Ç–∫–∏:

```sql
SELECT type, COUNT(*) as total, 
       COUNT(rating) as with_rating,
       AVG(rating) as avg_rating
FROM content
GROUP BY type;
```

| type | total | with_rating | avg_rating |
|------|-------|-------------|------------|
| book | 2,456 | 1,823 | 0.85 |
| movie | 3,516 | 3,516 | 7.02 |
| music | 5,243 | 5,243 | 5.32 |

### –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:

| type | total | with_rating | avg_rating |
|------|-------|-------------|------------|
| book | 2,456 | **0** | **NULL** ‚úÖ |
| movie | 3,516 | 3,516 | 7.02 ‚úÖ |
| music | 5,243 | **0** | **NULL** ‚úÖ |

---

## üíæ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
# –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π backup
ls -lt backups/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∞–∑—É
cp backups/content_backup_YYYYMMDD_HHMMSS.db content.db

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
python scripts/tools/db_inspector.py
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏

### 1Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

**–§–∞–π–ª: `public/index.html`**

```html
<!-- –î–û (–¥–ª—è –∫–Ω–∏–≥ –∏ –º—É–∑—ã–∫–∏) -->
<div class="filter-section">
  <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥:</label>
  <select id="rating-filter">
    <option value="0">–õ—é–±–æ–π</option>
    <option value="4">4+</option>
  </select>
</div>

<!-- –ü–û–°–õ–ï (—É–±—Ä–∞—Ç—å –¥–ª—è –∫–Ω–∏–≥ –∏ –º—É–∑—ã–∫–∏) -->
<!-- –†–µ–π—Ç–∏–Ω–≥–∏ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É —Ñ–∏–ª—å–º–æ–≤! -->
```

### 2Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç–µ –ª–æ–≥–∏–∫—É —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

**–§–∞–π–ª: `src/services/smartRecommender.js`**

```javascript
// –î–û
scoreItem(item, context) {
  let score = 0;
  
  // +5 –µ—Å–ª–∏ –≤—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (–¥–ª—è –í–°–ï–• —Ç–∏–ø–æ–≤)
  if (item.rating >= 4.0) score += 5;  // ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢ –¥–ª—è –∫–Ω–∏–≥/–º—É–∑—ã–∫–∏
}

// –ü–û–°–õ–ï
scoreItem(item, context) {
  let score = 0;
  
  // +5 –µ—Å–ª–∏ –≤—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (–¢–û–õ–¨–ö–û –¥–ª—è —Ñ–∏–ª—å–º–æ–≤)
  if (item.type === 'movie' && item.rating >= 7.0) score += 5;  // ‚úÖ
  
  // –î–ª—è –∫–Ω–∏–≥ - –¥—Ä—É–≥–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
  if (item.type === 'book' && item.genre === 'classics') score += 3;
  
  // –î–ª—è –º—É–∑—ã–∫–∏ - –¥—Ä—É–≥–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
  if (item.type === 'music' && item.mood === 'energetic') score += 3;
}
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ AI Describer

–¢–µ–ø–µ—Ä—å AI-–æ–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –≤–∞–∂–Ω—ã–º–∏ –¥–ª—è –∫–Ω–∏–≥ –∏ –º—É–∑—ã–∫–∏:

```bash
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –∫–Ω–∏–≥–∏ –∏ –º—É–∑—ã–∫–∞)
python scripts/tools/ai_describer.py --type books --limit=100
python scripts/tools/ai_describer.py --type music --limit=100
```

### 4Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

**–î–ª—è –±—É–¥—É—â–∏—Ö —Å–±–æ—Ä–æ–≤:**

```python
# harvest_books.py
def save_book(book_data):
    # –î–û
    rating = book_data.get('averageRating', 0)  # ‚ùå –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ
    
    # –ü–û–°–õ–ï
    rating = None  # ‚úÖ –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏

# harvest_music.py  
def save_track(track_data):
    # –î–û
    rating = track_data.get('popularity', 0) / 10  # ‚ùå Popularity ‚â† –∫–∞—á–µ—Å—Ç–≤–æ
    
    # –ü–û–°–õ–ï
    rating = None  # ‚úÖ –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º popularity –∫–∞–∫ —Ä–µ–π—Ç–∏–Ω–≥

# harvest_movies.py
def save_movie(movie_data):
    # –î–û –∏ –ü–û–°–õ–ï - –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô
    rating = movie_data.get('vote_average', 0)  # ‚úÖ TMDB –Ω–∞–¥–µ–∂–µ–Ω
```

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "no such table: content"

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ø—É—Å—Ç–∞
# –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î:
python setup_database.py
```

### –û—à–∏–±–∫–∞: "Permission denied" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ backup

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è backups –≤—Ä—É—á–Ω—É—é
mkdir -p backups
chmod 755 backups
```

### –°–∫—Ä–∏–ø—Ç –∑–∞–≤–∏—Å –Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏

```bash
# –í–≤–µ–¥–∏—Ç–µ "yes" –∏ –Ω–∞–∂–º–∏—Ç–µ Enter
# –ò–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç–µ —á–µ—Ä–µ–∑ Ctrl+C
```

### –•–æ—á—É –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ backup
cp backups/content_backup_LATEST.db content.db
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```bash
# –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
python scripts/tools/db_inspector.py

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–Ω–∏–≥–∞–º
python scripts/tools/db_inspector.py --type books

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –≤ SQL
sqlite3 content.db "SELECT type, COUNT(rating) FROM content GROUP BY type;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
book|0     ‚Üê –í—Å–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ —É–¥–∞–ª–µ–Ω—ã ‚úÖ
movie|3516 ‚Üê –†–µ–π—Ç–∏–Ω–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã ‚úÖ
music|0    ‚Üê –í—Å–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ —É–¥–∞–ª–µ–Ω—ã ‚úÖ
```

---

## üéì Best Practices

1. **–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ backup** - —Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** —á–µ—Ä–µ–∑ db_inspector.py
3. **–û–±–Ω–æ–≤–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ AI Describer** –¥–ª—è –∫–Ω–∏–≥ –∏ –º—É–∑—ã–∫–∏
5. **–û–±–Ω–æ–≤–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∞** —á—Ç–æ–±—ã –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –≤ –±—É–¥—É—â–µ–º

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ backup –≤ –ø–∞–ø–∫–µ `backups/`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `db_inspector.py` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –û—Ç–∫–∞—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –Ø–Ω–≤–∞—Ä—å 2025  
**–ê–≤—Ç–æ—Ä:** Coffee Books AI Team

**üéâ –£–¥–∞—á–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏!**
